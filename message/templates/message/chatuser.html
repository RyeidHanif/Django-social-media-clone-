{% extends 'post/base.html' %}
{% block content %}
<div class="container my-4" style="max-width: 600px; height: 80vh; overflow-y: auto; background: #fafafa; border-radius: 0.5rem; padding: 1rem; border: 1px solid #ddd;">
  {% for msg in messages %}
    {% if msg.sender == request.user %}
      <!-- Sent message (right) -->
      <div class="d-flex justify-content-end mb-3">
        <div class="bg-success bg-opacity-25 rounded-3 p-3" style="max-width: 70%;">
          <div>{{ msg.content }}</div>
          <small class="d-block text-end text-success fst-italic">
            {{ msg.sender.username }} (You) • {{ msg.timesent|date:"H:i, d M" }}
          </small>
        </div>
      </div>
    {% else %}
      <!-- Received message (left) -->
      <div class="d-flex justify-content-start mb-3">
        <div class="bg-light border rounded-3 p-3" style="max-width: 70%;">
          <div>{{ msg.content }}</div>
          <small class="d-block text-start text-muted fst-italic">
            {{ msg.sender.username }} • {{ msg.timesent|date:"H:i, d M" }}
          </small>
        </div>
      </div>
    {% endif %}
  {% endfor %}
</div>
{% endblock %}
